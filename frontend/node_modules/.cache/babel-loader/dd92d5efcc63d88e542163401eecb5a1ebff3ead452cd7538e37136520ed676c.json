{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from\"react\";import{Button}from\"@/components/ui/button\";import{Input}from\"@/components/ui/input\";import{Label}from\"@/components/ui/label\";import{Card,CardContent,CardDescription,CardHeader,CardTitle}from\"@/components/ui/card\";import axios from\"axios\";import{API,toast}from\"@/App\";import{motion}from\"framer-motion\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Auth(_ref){let{setIsAuthenticated}=_ref;const[isLogin,setIsLogin]=useState(true);const[loading,setLoading]=useState(false);const[formData,setFormData]=useState({email:\"\",password:\"\",full_name:\"\"});const handleSubmit=async e=>{e.preventDefault();setLoading(true);try{const endpoint=isLogin?\"/auth/login\":\"/auth/signup\";const response=await axios.post(\"\".concat(API).concat(endpoint),formData);localStorage.setItem(\"access_token\",response.data.access_token);localStorage.setItem(\"user\",JSON.stringify(response.data.user));toast.success(isLogin?\"Welcome back!\":\"Account created successfully!\");setIsAuthenticated(true);}catch(error){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||\"Authentication failed\");}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center px-4 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50\",children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},className:\"w-full max-w-md\",children:/*#__PURE__*/_jsxs(Card,{className:\"glass shadow-2xl border-0\",\"data-testid\":\"auth-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"space-y-2 text-center\",children:[/*#__PURE__*/_jsx(CardTitle,{className:\"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent\",children:\"AI Finance Tracker\"}),/*#__PURE__*/_jsx(CardDescription,{className:\"text-base\",children:isLogin?\"Welcome back! Sign in to continue\":\"Create your account to get started\"})]}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[!isLogin&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"full_name\",children:\"Full Name\"}),/*#__PURE__*/_jsx(Input,{id:\"full_name\",\"data-testid\":\"full-name-input\",type:\"text\",placeholder:\"John Doe\",value:formData.full_name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{full_name:e.target.value})),required:!isLogin,className:\"h-11\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(Input,{id:\"email\",\"data-testid\":\"email-input\",type:\"email\",placeholder:\"you@example.com\",value:formData.email,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{email:e.target.value})),required:true,className:\"h-11\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(Input,{id:\"password\",\"data-testid\":\"password-input\",type:\"password\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",value:formData.password,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{password:e.target.value})),required:true,className:\"h-11\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",\"data-testid\":\"auth-submit-button\",className:\"w-full h-11 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium btn-animate\",disabled:loading,children:loading?\"Please wait...\":isLogin?\"Sign In\":\"Create Account\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsLogin(!isLogin),\"data-testid\":\"toggle-auth-mode\",className:\"text-sm text-blue-600 hover:text-blue-700 font-medium\",children:isLogin?\"Don't have an account? Sign up\":\"Already have an account? Sign in\"})})]})]})})});}","map":{"version":3,"names":["useState","Button","Input","Label","Card","CardContent","CardDescription","CardHeader","CardTitle","axios","API","toast","motion","jsx","_jsx","jsxs","_jsxs","Auth","_ref","setIsAuthenticated","isLogin","setIsLogin","loading","setLoading","formData","setFormData","email","password","full_name","handleSubmit","e","preventDefault","endpoint","response","post","concat","localStorage","setItem","data","access_token","JSON","stringify","user","success","error","_error$response","_error$response$data","detail","className","children","div","initial","opacity","y","animate","transition","duration","onSubmit","htmlFor","id","type","placeholder","value","onChange","_objectSpread","target","required","disabled","onClick"],"sources":["/app/frontend/src/pages/Auth.js"],"sourcesContent":["import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport axios from \"axios\";\nimport { API, toast } from \"@/App\";\nimport { motion } from \"framer-motion\";\n\nexport default function Auth({ setIsAuthenticated }) {\n  const [isLogin, setIsLogin] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n    full_name: \"\",\n  });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      const endpoint = isLogin ? \"/auth/login\" : \"/auth/signup\";\n      const response = await axios.post(`${API}${endpoint}`, formData);\n\n      localStorage.setItem(\"access_token\", response.data.access_token);\n      localStorage.setItem(\"user\", JSON.stringify(response.data.user));\n      \n      toast.success(isLogin ? \"Welcome back!\" : \"Account created successfully!\");\n      setIsAuthenticated(true);\n    } catch (error) {\n      toast.error(error.response?.data?.detail || \"Authentication failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center px-4 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50\">\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5 }}\n        className=\"w-full max-w-md\"\n      >\n        <Card className=\"glass shadow-2xl border-0\" data-testid=\"auth-card\">\n          <CardHeader className=\"space-y-2 text-center\">\n            <CardTitle className=\"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent\">\n              AI Finance Tracker\n            </CardTitle>\n            <CardDescription className=\"text-base\">\n              {isLogin ? \"Welcome back! Sign in to continue\" : \"Create your account to get started\"}\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              {!isLogin && (\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"full_name\">Full Name</Label>\n                  <Input\n                    id=\"full_name\"\n                    data-testid=\"full-name-input\"\n                    type=\"text\"\n                    placeholder=\"John Doe\"\n                    value={formData.full_name}\n                    onChange={(e) => setFormData({ ...formData, full_name: e.target.value })}\n                    required={!isLogin}\n                    className=\"h-11\"\n                  />\n                </div>\n              )}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"email\">Email</Label>\n                <Input\n                  id=\"email\"\n                  data-testid=\"email-input\"\n                  type=\"email\"\n                  placeholder=\"you@example.com\"\n                  value={formData.email}\n                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                  required\n                  className=\"h-11\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"password\">Password</Label>\n                <Input\n                  id=\"password\"\n                  data-testid=\"password-input\"\n                  type=\"password\"\n                  placeholder=\"••••••••\"\n                  value={formData.password}\n                  onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                  required\n                  className=\"h-11\"\n                />\n              </div>\n              <Button\n                type=\"submit\"\n                data-testid=\"auth-submit-button\"\n                className=\"w-full h-11 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium btn-animate\"\n                disabled={loading}\n              >\n                {loading ? \"Please wait...\" : isLogin ? \"Sign In\" : \"Create Account\"}\n              </Button>\n            </form>\n            <div className=\"mt-6 text-center\">\n              <button\n                onClick={() => setIsLogin(!isLogin)}\n                data-testid=\"toggle-auth-mode\"\n                className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\n              >\n                {isLogin ? \"Don't have an account? Sign up\" : \"Already have an account? Sign in\"}\n              </button>\n            </div>\n          </CardContent>\n        </Card>\n      </motion.div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}