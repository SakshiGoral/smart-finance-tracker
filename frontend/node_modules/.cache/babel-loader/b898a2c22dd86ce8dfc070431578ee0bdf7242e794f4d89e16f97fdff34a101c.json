{"ast":null,"code":"import{useState,useEffect}from\"react\";import\"@/App.css\";import{BrowserRouter,Routes,Route,Navigate}from\"react-router-dom\";import axios from\"axios\";import{Toaster}from\"@/components/ui/sonner\";import{toast}from\"sonner\";import Auth from\"@/pages/Auth\";import Dashboard from\"@/pages/Dashboard\";import Transactions from\"@/pages/Transactions\";import Budgets from\"@/pages/Budgets\";import Goals from\"@/pages/Goals\";import AIChat from\"@/pages/AIChat\";import Layout from\"@/components/Layout\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const API=\"\".concat(BACKEND_URL,\"/api\");// Setup axios defaults\naxios.interceptors.request.use(config=>{const token=localStorage.getItem(\"access_token\");if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;});axios.interceptors.response.use(response=>response,error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){localStorage.removeItem(\"access_token\");localStorage.removeItem(\"user\");window.location.href=\"/auth\";}return Promise.reject(error);});function App(){const[isAuthenticated,setIsAuthenticated]=useState(false);const[loading,setLoading]=useState(true);useEffect(()=>{const token=localStorage.getItem(\"access_token\");if(token){setIsAuthenticated(true);}setLoading(false);},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-medium text-slate-600\",children:\"Loading...\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/auth\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"}):/*#__PURE__*/_jsx(Auth,{setIsAuthenticated:setIsAuthenticated})}),/*#__PURE__*/_jsxs(Route,{path:\"/\",element:isAuthenticated?/*#__PURE__*/_jsx(Layout,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/auth\"}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"})}),/*#__PURE__*/_jsx(Route,{path:\"dashboard\",element:/*#__PURE__*/_jsx(Dashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"transactions\",element:/*#__PURE__*/_jsx(Transactions,{})}),/*#__PURE__*/_jsx(Route,{path:\"budgets\",element:/*#__PURE__*/_jsx(Budgets,{})}),/*#__PURE__*/_jsx(Route,{path:\"goals\",element:/*#__PURE__*/_jsx(Goals,{})}),/*#__PURE__*/_jsx(Route,{path:\"ai-chat\",element:/*#__PURE__*/_jsx(AIChat,{})})]})]})}),/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",richColors:true})]});}export default App;export{API,toast};","map":{"version":3,"names":["useState","useEffect","BrowserRouter","Routes","Route","Navigate","axios","Toaster","toast","Auth","Dashboard","Transactions","Budgets","Goals","AIChat","Layout","jsx","_jsx","jsxs","_jsxs","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","concat","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","response","error","_error$response","status","removeItem","window","location","href","Promise","reject","App","isAuthenticated","setIsAuthenticated","loading","setLoading","className","children","path","element","to","index","position","richColors"],"sources":["/app/frontend/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport \"@/App.css\";\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Toaster } from \"@/components/ui/sonner\";\nimport { toast } from \"sonner\";\nimport Auth from \"@/pages/Auth\";\nimport Dashboard from \"@/pages/Dashboard\";\nimport Transactions from \"@/pages/Transactions\";\nimport Budgets from \"@/pages/Budgets\";\nimport Goals from \"@/pages/Goals\";\nimport AIChat from \"@/pages/AIChat\";\nimport Layout from \"@/components/Layout\";\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\n\n// Setup axios defaults\naxios.interceptors.request.use((config) => {\n  const token = localStorage.getItem(\"access_token\");\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\naxios.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem(\"access_token\");\n      localStorage.removeItem(\"user\");\n      window.location.href = \"/auth\";\n    }\n    return Promise.reject(error);\n  }\n);\n\nfunction App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"access_token\");\n    if (token) {\n      setIsAuthenticated(true);\n    }\n    setLoading(false);\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50\">\n        <div className=\"text-xl font-medium text-slate-600\">Loading...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Routes>\n          <Route\n            path=\"/auth\"\n            element={\n              isAuthenticated ? (\n                <Navigate to=\"/dashboard\" />\n              ) : (\n                <Auth setIsAuthenticated={setIsAuthenticated} />\n              )\n            }\n          />\n          <Route\n            path=\"/\"\n            element={\n              isAuthenticated ? (\n                <Layout />\n              ) : (\n                <Navigate to=\"/auth\" />\n              )\n            }\n          >\n            <Route index element={<Navigate to=\"/dashboard\" />} />\n            <Route path=\"dashboard\" element={<Dashboard />} />\n            <Route path=\"transactions\" element={<Transactions />} />\n            <Route path=\"budgets\" element={<Budgets />} />\n            <Route path=\"goals\" element={<Goals />} />\n            <Route path=\"ai-chat\" element={<AIChat />} />\n          </Route>\n        </Routes>\n      </BrowserRouter>\n      <Toaster position=\"top-right\" richColors />\n    </div>\n  );\n}\n\nexport default App;\nexport { API, toast };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}